<div class="page-holder bg-gray-100">
  <div class="container-fluid px-lg-4 px-xl-5 contentDiv">
    <!-- Page Header-->
    <div class="page-header mb-4">
      <div class="col-lg-12" *ngIf="this.FirstConnection">
        <div class="card card-profile mb-4">
          <div
            class="card-header"
            style="
              background-image: url(../../..//../assets/images/reset_password.jpeg);
            "
          ></div>
          <div class="card-body text-center">
            <img
              class="card-profile-img"
              src="https://therichpost.com/wp-content/uploads/2021/03/avatar2.png"
              alt="Jassa Rich"
            />
            <h3 class="mb-3">Change Password</h3>
            <p class="mb-4" style="color: red">
              You are required to chane the password
            </p>
            <div class="card-footer p-4 text-center">
              <button
                class="btn btn-primary"
                data-bs-toggle="modal"
                data-bs-target="#exampleModal"
              >
                <i class="fas fa-lock px-2"></i> Reset Password Now
              </button>
            </div>
            <!-- <button class="btn btn-outline-dark btn-sm">
              <span class="fab fa-twitter"></span> Follow
            </button> -->
          </div>
        </div>
      </div>
      <div *ngIf="this.FirstConnection" class="overBlur">
        <button
          class="btn btn-danger"
          style="width: 25%; margin-left: 37%; height: 20%"
          data-bs-toggle="modal"
          data-bs-target="#exampleModal"
        >
          consulter profile
        </button>
      </div>
      <div [ngClass]="this.FirstConnection ? 'blur' : 'notBlur'">
        <div class="page-header mb-4">
          <h1 class="page-heading">Profile</h1>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <div class="card card-profile mb-4">
              <div
                class="card-header"
                style="
                  background-image: url(https://therichpost.com/wp-content/uploads/2021/05/bootstrap5-carousel-slider-img1.jpg);
                "
              ></div>
              <div class="card-body text-center">
                <img
                  class="card-profile-img"
                  src="https://therichpost.com/wp-content/uploads/2021/03/avatar2.png"
                  alt="Jassa Rich"
                />
                <h3 class="mb-3">
                  {{ User.agentFirstName }} {{ User.agentLastName }}
                </h3>
                <p class="mb-4">Agent</p>
                <!-- <button class="btn btn-outline-dark btn-sm">
              <span class="fab fa-twitter"></span> Follow
            </button> -->
              </div>
            </div>

            <form class="card mb-4">
              <div class="card-header">
                <h4 class="card-heading">My Profile</h4>
              </div>
              <div class="card-body">
                <div class="row mb-3">
                  <div class="col-auto d-flex align-items-center">
                    <img
                      class="avatar avatar-lg p-1"
                      src="https://therichpost.com/wp-content/uploads/2021/03/avatar2.png"
                      alt="Avatar"
                    />
                  </div>
                  <div class="col">
                    <label class="form-label"
                      ><i class="fas fa-user"></i> Name</label
                    >
                    <input
                      value="{{ this.User.agentFirstName }} {{
                        this.User.agLastName
                      }}"
                      class="form-control"
                      disabled
                    />
                  </div>
                </div>
                <!-- <div class="mb-3">
            <label class="form-label">Bio</label>
            <textarea class="form-control" rows="8"></textarea>
          </div> -->
                <div class="mb-3">
                  <label class="form-label"
                    ><i class="fas fa-envelope"></i> Email</label
                  >
                  <input
                    class="form-control"
                    value="{{ this.User.agentEmail }}"
                    disabled
                  />
                </div>
                <div class="mb-3">
                  <label class="form-label"
                    ><i class="fas fa-phone"></i> Phone Number</label
                  >
                  <input
                    class="form-control"
                    value="{{ this.User.agentPhone }}"
                    disabled
                  />
                </div>
                <div class="mb-3">
                  <label class="form-label"
                    ><i class="fas fa-address-card"></i> Address</label
                  >
                  <input
                    class="form-control"
                    placeholder="{{ this.User.agentAddress }}"
                    disabled
                  />
                </div>
                <div class="mb-3">
                  <label class="form-label"
                    ><i class="fas fa-address-card"></i> City</label
                  >
                  <input
                    class="form-control"
                    value="{{ this.User.agentCity }}"
                    disabled
                  />
                </div>
              </div>
              <!-- <div class="card-footer text-end">
          <button class="btn btn-primary">Save</button>
        </div> -->
            </form>
            <form class="card mb-4">
              <div class="card-header">
                <h4 class="card-heading">Forget Password</h4>
              </div>
              <div class="card-footer p-4 text-center">
                <button
                  *ngIf="!this.FirstConnection"
                  class="btn btn-primary"
                  data-bs-toggle="modal"
                  data-bs-target="#changePassword"
                >
                  <i class="fas fa-lock px-2"></i> Change Password Now
                </button>
              </div>
              <!-- <div class="card-footer text-end">
            <button class="btn btn-primary">Save</button>
          </div> -->
            </form>
          </div>
          <div class="col-lg-8">
            <app-myclients></app-myclients>
            <app-myclients-message></app-myclients-message>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    {{ reset.value | json }}
    <form action="" #reset="ngForm">
      <div class="modal-content container">
        <div class="modal-header" style="display: block">
          <div class="form-group mb-3">
            <input
              ngModel
              name="newPass"
              type="password"
              class="form-control"
              placeholder="New Password"
              required="required"
            />
          </div>
          <div class="form-group">
            <input
              ngModel
              name="password"
              type="password"
              class="form-control"
              placeholder=" Confirm New Password"
              required="required"
            />
          </div>

          <div class="modal-footer" style="display: flex">
            <button
              (click)="doTheResetPassword(reset.value)"
              type="button"
              class="btn btn-primary"
              data-bs-dismiss="modal"
            >
              Confirm
            </button>
            <button
              type="submit"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancel
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
<div
  class="modal fade"
  id="changePassword"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    {{ f.value | json }}
    <form action="" #f="ngForm">
      <div class="modal-content container">
        <div class="modal-header" style="display: block">
          <div class="form-group mb-3">
            <input
              ngModel
              name="newPass"
              type="password"
              class="form-control"
              placeholder="Ancien Password"
              required="required"
            />
          </div>
          <div class="form-group">
            <input
              ngModel
              name="confirmPass"
              type="password"
              class="form-control"
              placeholder=" Confirm New Password"
              required="required"
            />
          </div>
          <br />
          <div class="form-group">
            <input
              ngModel
              name="confirm"
              type="password"
              class="form-control"
              placeholder=" Confirm New Password"
              required="required"
            />
          </div>

          <div class="modal-footer" style="display: flex">
            <button
              (click)="changePassword(f)"
              type="button"
              class="btn btn-primary"
              data-bs-dismiss="modal"
            >
              Confirm
            </button>
            <button
              type="submit"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancel
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
